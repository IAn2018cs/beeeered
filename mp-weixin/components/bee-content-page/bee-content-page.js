(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/bee-content-page/bee-content-page"],{"01ba":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("a34a")),o=n("0b9d"),a=(i(n("6db5")),i(n("66fd")));i(n("c602"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)}))}}var p=[],d={data:function(){return{}},globalData:{themeChanged:function(t){a.default.prototype.$u.currentTheme=t,p.forEach((function(e){e(t)})),e.setStorage({key:"theme",data:t})},watchThemeChange:function(e){p.indexOf(e)<0&&p.push(e)},unWatchThemeChange:function(e){var t=p.indexOf(e);t>-1&&p.splice(t,1)}},onLaunch:function(){var t=this;return f(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return wx.cloud.init({env:"cloud1-9g3wyn3mebb4b2c7",traceUser:!0}),a=function(){var n=f(r.default.mark((function n(){var a,i,s,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("jv/get",["acf/v3/options/options",{}]);case 2:if(a=n.sent,e.$emit("inited",a),console.log("%c\n       ","font-size:100px;background:url('"+a.acf.mode_common.site.tip.tip1.replace(/\\n/g,"\n").replace(/\%c/g,"%c")+"') no-repeat;background-size:contain;"),console.log(a.acf.mode_common.site.tip.tip2.replace(/\\n/g,"\n").replace(/\%c/g,"%c"),"font-weight:bold;"),console.log(a.acf.mode_common.site.tip.tip3.replace(/\\n/g,"\n").replace(/\%c/g,"%c"),"color:#FFB800;font-weight:bold;"),i=t.$store.getters["session/get"]("userId"),t.$store.getters["session/get"]("userOpenId"),{},!i){n.next=16;break}return s={access_token:i},n.next=14,t.$store.dispatch("jv/get",["mp/v1/user/user",{params:s}]);case 14:n.sent,e.setStorageSync(o.STORGE_GET_USER_TIME,(new Date).getTime());case 16:({}),c=getCurrentPages(),c.length>0&&c[c.length-1],t.$store.state.beebeeo.error.code||t.$store.dispatch("beebeeo/setError",{loading:!1});case 20:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=2,n.next=5,a();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](2),n.t0&&n.t0.data&&n.t0.data.errors&&("access_denied"===n.t0.data.errors[0].code?t.$store.dispatch("session/logout").then(a):t.$store.dispatch("beebeeo/setError",c({loading:!1},n.t0.data.errors[0])));case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()},onShow:function(e){},onHide:function(){}};t.default=d}).call(this,n("543d")["default"])},"0325":function(e,t,n){},"282e":function(e,t,n){"use strict";n.r(t);var r=n("01ba"),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a},"3dd4":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n("ea44"));var r=i(n("bf9d")),o=i(n("3f44")),a=i(n("6db5"));n("26cb"),n("2ef0");function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return h(e)||d(e)||p(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={components:{},mixins:[r.default,o.default],props:{categories:{type:String,default:""},beebee_face_cats:{type:String,default:""},pageLoaded:{type:Boolean,default:""},posttype:{type:String,default:""},pagetype:{type:String,default:""},blocksize:{type:String,default:"mini"},watertype:{type:String,default:"default"},idKey:{type:String,default:"id"},imageSrcKey:{type:String,default:"image_url"},wCols:{type:Number,default:3},wMargin:{type:Number,default:20},wOffsetlr:{type:Number,default:10},wOffsettb:{type:Number,default:10},wRadius:{type:Number,default:0},wBgtype:{type:String,default:"0"},imageStyle:{type:Object,default:function(){return{}}}},data:function(){return{loaded:"",threads:[],thread:[],audioida:0,loadingType:"loading",per_page:10,post_page:1,face_page:1,params:{},beeHtml:"",newList:[],boxHeight:[],flowheight:0,topArr:[],allPositionArr:[],allHeightArr:[],waterheight:0,oldNum:0,num:0,cShowtit:!1,cShowlike:!1,cShowjb:!1,cPosition:"0",cTitle:{},cJiaobiao:{},cImage:{},single:!0}},computed:{},watch:{waterheight:{handler:function(e){var t=this;this.$nextTick((function(){t.$emit("getSwipperHeight")}))}},threads:{handler:function(e){var t=this;this.$nextTick((function(){t.$emit("getSwipperHeight")}))}},thread:{handler:function(e){var t=this;this.$nextTick((function(){t.$emit("getSwipperHeight")}))}}},created:function(){this.refresh()},mounted:function(){},methods:{imageLoadHandle:function(t){var n=this,r="waterfalls-list-id-"+this.threads[t][this.idKey],o=e.createSelectorQuery().in(this);o.select("#"+r).fields({size:!0},(function(e){if(n.num++,n.$set(n.allHeightArr,t,e.height),n.num===n.threads.length){for(var r=n.oldNum;r<n.num;r++){var o=function(){var e=l(n.topArr).sort((function(e,t){return e-t}));return{shorterIndex:n.topArr.indexOf(e[0]),shorterValue:e[0],longerIndex:n.topArr.indexOf(e[n.wCols-1]),longerValue:e[n.wCols-1]}},a=o(),i=a.shorterIndex,s=a.shorterValue,c={top:s+"px",left:(e.width+n.wOffsetlr)*i+"px",opacity:1};n.$set(n.allPositionArr,r,c),n.topArr[i]=s+n.allHeightArr[r]+n.wOffsettb,n.waterheight=o().longerValue-n.wOffsettb}n.oldNum=n.num,n.$emit("image-load")}})).exec()},refresh:function(){for(var e=[],t=0;t<this.wCols;t++)e.push(0);this.topArr=e,this.num=0,this.oldNum=0,this.waterheight=0},audioId:function(e){this.audioida=e.target.id},moreLoad:function(){this.$emit("moreload")},loadThreads:function(){var e=this;if(this.params=this.sun,"page"===this.params.post_type||"pages"===this.params.post_type){if(!this.sun.id)return void(this.beeHtml="<p>空空如也</p>");this.params.post_type="pages",a.default.readThreadDetail({params:this.params}).then((function(t){e.$emit("getLayoutHeight"),e.thread=c({},t),e.beeHtml=e.thread.content.rendered?e.thread.content.rendered:"",console.log("pagedetail",t)}))}else"beebee_face"===this.params.post_type?(this.face_page=this.page,this.params.page=this.face_page):"post"===this.params.post_type||"posts"===this.params.post_type?(this.params.post_type="posts",this.post_page=this.page,this.params.page=this.post_page):this.params.page=this.page,a.default.readThreadList({params:this.params}).then((function(t){e.$emit("getLayoutHeight"),e.$nextTick((function(){!0===e.isResetList?e.threads=l(t):!1===e.isResetList&&(e.threads=[].concat(l(e.threads),l(t))),e.$emit("threadslength",t.length),e.loadingType=t.length<e.per_page?"nomore":"more",e.$emit("loadType",e.loadingType,e.params.post_type)}))}))}}};t.default=m}).call(this,n("543d")["default"])},"46a9":function(e,t,n){"use strict";var r=n("0325"),o=n.n(r);o.a},7469:function(e,t,n){"use strict";n.r(t);var r=n("cfe4"),o=n("f659");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("9c20");var i,s=n("f0c5"),c=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,"024d6628",null,!1,r["a"],i);t["default"]=c.exports},"9c20":function(e,t,n){"use strict";var r=n("d388"),o=n.n(r);o.a},cfe4:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={beeBlock:function(){return Promise.all([n.e("common/vendor"),n.e("components/bee-block/bee-block")]).then(n.bind(null,"9f3f"))},mpHtml:function(){return Promise.all([n.e("common/vendor"),n.e("components/mp-html/mp-html")]).then(n.bind(null,"d38d"))},beeContent:function(){return Promise.all([n.e("common/vendor"),n.e("components/bee-content/bee-content")]).then(n.bind(null,"874b"))},beeLoadMore:function(){return n.e("components/bee-load-more/bee-load-more").then(n.bind(null,"6014"))}},o=function(){var e=this,t=e.$createElement;e._self._c},a=[]},d388:function(e,t,n){},ea44:function(e,t,n){"use strict";n.r(t);var r=n("282e");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("46a9");var a,i,s,c,u=n("f0c5"),l=Object(u["a"])(r["default"],a,i,!1,null,null,null,!1,s,c);t["default"]=l.exports},f659:function(e,t,n){"use strict";n.r(t);var r=n("3dd4"),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/bee-content-page/bee-content-page-create-component',
    {
        'components/bee-content-page/bee-content-page-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("7469"))
        })
    },
    [['components/bee-content-page/bee-content-page-create-component']]
]);
