(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/bee-block/bee-block"],{1717:function(t,o,e){},"32ce":function(t,o,e){"use strict";e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){return a}));var a={beeMenuclick:function(){return e.e("components/bee-menuclick/bee-menuclick").then(e.bind(null,"341a"))},beeIcon:function(){return e.e("components/bee-icon/bee-icon").then(e.bind(null,"33de"))},czCountdown:function(){return Promise.all([e.e("common/vendor"),e.e("components/cz-countdown/cz-countdown")]).then(e.bind(null,"42c6"))},mpHtml:function(){return Promise.all([e.e("common/vendor"),e.e("components/mp-html/mp-html")]).then(e.bind(null,"d38d"))}},i=function(){var t=this,o=t.$createElement,e=(t._self._c,"swiper"===t.blockLayout?t.__map(t.blockData.type_swiper,(function(o,e){var a=t.__get_orig(o),i=o.menu_title&&!(t.blockData.type_swiper.length<2||"0"===t.blockData.bullet)?Number(t.blockData.custom.uuh):null;return{$orig:a,m0:i}})):null),a="swiper"===t.blockLayout&&t.blockData.type_swiper.length>1&&"0"!=t.blockData.bullet?Number(t.blockData.custom.uuh):null,i="swiper"===t.blockLayout&&t.blockData.type_swiper.length>1&&"0"!=t.blockData.bullet&&"3"===t.blockData.bullet?Number(t.swiperdotcurrent+1):null,s="swiper"===t.blockLayout&&t.blockData.type_swiper.length>1&&"0"!=t.blockData.bullet&&"3"===t.blockData.bullet?Number(t.blockData.type_swiper.length):null,n="2"===t.blockData.layout&&1!=Number(t.blockData.custom.columns),c="swiper"!==t.blockLayout&&"mark"!==t.blockLayout&&"imggroup"!==t.blockLayout&&"search"!==t.blockLayout&&"button"!==t.blockLayout&&"time"!==t.blockLayout&&"pan"!==t.blockLayout&&"ads"!==t.blockLayout&&("media"!==t.blockLayout||t.beebeeos.acf.mode_common.safe.mode&&t.beebeeos.acf.mode_common.safe.mode_media)&&"toptop"===t.blockLayout&&"2"===t.blockData.layout?t.__map(t.postsdata,(function(o,e){var a=t.__get_orig(o),i="2"===t.blockData.layout&&Number(e+1)%Number(t.blockData.custom.columns)==0;return{$orig:a,m5:i}})):null;t.$mp.data=Object.assign({},{$root:{l0:e,m1:a,m2:i,m3:s,m4:n,l1:c}})},s=[]},"45af":function(t,o,e){"use strict";e.r(o);var a=e("9c79"),i=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(o,t,(function(){return a[t]}))}(s);o["default"]=i.a},"4b2c":function(t,o,e){"use strict";var a=e("1717"),i=e.n(a);i.a},"9c79":function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=s(e("bf9d")),i=s(e("6db5"));e("2ef0");function s(t){return t&&t.__esModule?t:{default:t}}function n(t){return u(t)||h(t)||l(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,o){if(t){if("string"===typeof t)return r(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,o):void 0}}function h(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return r(t)}function r(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,a=new Array(o);e<o;e++)a[e]=t[e];return a}var b=function(){Promise.all([e.e("common/vendor"),e.e("components/bee-zaudio/bee-zaudio")]).then(function(){return resolve(e("20f4"))}.bind(null,e)).catch(e.oe)},d=function(){Promise.all([e.e("common/vendor"),e.e("components/mp-html/audio/audio")]).then(function(){return resolve(e("bbaa"))}.bind(null,e)).catch(e.oe)},m=null,p={components:{myaudio:d,zaudio:b},mixins:[a.default],props:{blockData:{type:Object,default:function(){return{}}},blockLayout:{type:String,default:""},index:{type:Number,default:0}},data:function(){return{blockpos:"flex-start",swipercurrent:0,swiperdotcurrent:0,subBulletHeight:0,imggroup:[],catsdata:[],postsdata:[],libdownloadcnt:"",libdownloadlink:"",libdownloadcode:"",libdownload:0,pathtopan:!1,libdownloadlinkcode:"",videolook:!1,videoHeight:225,toptopboxwidth:"",toptopimgwidth:"",toptopimgheight:"",text_show:["1","2","3","4","5","6"],text_show_tit:!1,text_show_desc:!1,text_show_cool:!1,text_show_likes:!1,text_show_views:!1,text_show_comments:!1,showLine:0,shownoticedata:[],noticemarginTop:0,showNum:1,lineHeight:30,animationScroll:500,animation:2e3}},computed:{},created:function(){var o=this;if("1"===this.blockData.base.pos?this.blockpos="flex-start":"2"===this.blockData.base.pos?this.blockpos="center":"3"===this.blockData.base.pos&&(this.blockpos="flex-end"),"mark"===this.blockLayout&&"2"===this.blockData.data&&this.loadblockCats(),"notice"===this.blockLayout&&(this.showNum=this.blockData.custom.shownum,this.lineHeight=this.blockData.custom.lineheight,this.animationScroll=this.blockData.custom.aniscroll,this.animation=this.blockData.custom.anitime,this.notice()),"toptop"===this.blockLayout){var e=t.getSystemInfoSync().screenWidth;"1"===this.blockData.layout?this.toptopboxwidth=this.blockData.custom.cardper*(e-40)*.01:this.toptopboxwidth=Number(e-40-this.blockData.custom.columns_space*Number(this.blockData.custom.columns-1))/this.blockData.custom.columns,"1"!==this.blockData.style&&"2"!==this.blockData.style||(this.toptopimgwidth=this.blockData.custom.percent*this.toptopboxwidth*.01,this.toptopimgheight=this.toptopimgwidth*this.blockData.custom.height/this.blockData.custom.width),"3"!==this.blockData.style&&"4"!==this.blockData.style||(this.toptopimgwidth=this.toptopboxwidth,this.toptopimgheight=this.toptopimgwidth*this.blockData.custom.height/this.blockData.custom.width),this.text_show=this.blockData.custom.showdesc,-1!=this.text_show.indexOf("1")&&(this.text_show_tit=!0),-1!=this.text_show.indexOf("2")&&(this.text_show_desc=!0),-1!=this.text_show.indexOf("3")&&(this.text_show_cool=!0),-1!=this.text_show.indexOf("4")&&(this.text_show_likes=!0),-1!=this.text_show.indexOf("5")&&(this.text_show_views=!0),-1!=this.text_show.indexOf("6")&&(this.text_show_comments=!0),this.loadThreads()}if("swiper"===this.blockLayout&&(this.subBulletHeight=this.blockData.type_swiper.length<2?0:37.5*this.blockData.custom.height/375,this.blockData.type_swiper.length<2||"0"===this.blockData.bullet?this.subBulletHeight=0:"1"===this.blockData.bullet?this.subBulletHeight=2:"2"===this.blockData.bullet?this.subBulletHeight=30:"3"===this.blockData.bullet?this.subBulletHeight=20:this.subBulletHeight=0),"imggroup"===this.blockLayout){var a={},i=20,s=t.getSystemInfoSync().screenWidth,n=Number(this.blockData.custom.width),c=Number(this.blockData.custom.height),l=Number(this.blockData.custom.margin),h=s-Number(2*i);a.img=[],"1"===this.blockData.layout?(a.hh=h*c/n-l/2,a.img[0]={w:(h-l)/2,h:h*c/n-l/2,t:0,l:0},a.img[1]={w:(h-l)/2,h:h*c/n-l/2,t:0,l:(h-l)/2+l}):"2"===this.blockData.layout?(a.hh=h*c/n-l/2,a.img[0]={w:(h-2*l)/3*2+l,h:h*c/n-l/2,t:0,l:0},a.img[1]={w:(h-2*l)/3,h:h*c/n-l/2,t:0,l:(h-2*l)/3*2+2*l}):"3"===this.blockData.layout?(a.hh=h*c/n-l/2,a.img[0]={w:(h-2*l)/3,h:h*c/n-l/2,t:0,l:0},a.img[1]={w:(h-2*l)/3*2+l,h:h*c/n-l/2,t:0,l:(h-2*l)/3+l}):"4"===this.blockData.layout?(a.hh=h*c/n-l/2,a.img[0]={w:(h-2*l)/3,h:h*c/n-l/2,t:0,l:0},a.img[1]={w:(h-2*l)/3,h:h*c/n-l/2,t:0,l:(h-2*l)/3+l},a.img[2]={w:(h-2*l)/3,h:h*c/n-l/2,t:0,l:(h-2*l)/3*2+2*l}):"5"===this.blockData.layout?(a.hh=h*c/n-l/2,a.img[0]={w:(h-3*l)/4,h:h*c/n-l/2,t:0,l:0},a.img[1]={w:(h-3*l)/4,h:h*c/n-l/2,t:0,l:(h-3*l)/4+l},a.img[2]={w:(h-3*l)/4,h:h*c/n-l/2,t:0,l:(h-3*l)/4*2+2*l},a.img[3]={w:(h-3*l)/4,h:h*c/n-l/2,t:0,l:(h-3*l)/4*3+3*l}):"6"===this.blockData.layout?(a.hh=h*c/n-l/2,a.img[0]={w:(h-l)/2,h:h*c/n-l/2,t:0,l:0},a.img[1]={w:(h-l)/2,h:(h*c/n-l/2-l)/2,t:0,l:(h-l)/2+l},a.img[2]={w:(h-l)/2,h:(h*c/n-l/2-l)/2,t:(h*c/n-l/2-l)/2+l,l:(h-l)/2+l}):"7"===this.blockData.layout?(a.hh=h*c/n-l/2,a.img[0]={w:(h-l)/2,h:(h*c/n-l/2-l)/2,t:0,l:0},a.img[1]={w:(h-l)/2,h:(h*c/n-l/2-l)/2,t:(h*c/n-l/2-l)/2+l,l:0},a.img[2]={w:(h-l)/2,h:h*c/n-l/2,t:0,l:(h-l)/2+l}):"8"===this.blockData.layout&&(a.hh=h*c/n-l/2,a.img[0]={w:(h-l)/2,h:(h*c/n-l/2-l)/2,t:0,l:0},a.img[1]={w:(h-l)/2,h:(h*c/n-l/2-l)/2,t:0,l:(h-l)/2+l},a.img[2]={w:(h-l)/2,h:(h*c/n-l/2-l)/2,t:(h*c/n-l/2-l)/2+l,l:0},a.img[3]={w:(h-l)/2,h:(h*c/n-l/2-l)/2,t:(h*c/n-l/2-l)/2+l,l:(h-l)/2+l}),this.imggroup=a}if("pan"===this.blockLayout){var u=this.blockData.bee_book_download,r=u.match(new RegExp(/链接:\s(.*?)\s提取码:/));if(r){if(this.libdownload=1,this.libdownloadlink=r[1],-1!=r[1].indexOf("pan.baidu.com")){var b=r[1].match(/pan.baidu.com\/s\/(.*)/);this.libdownloadlinkcode=b[1],this.pathtopan=!0}this.libdownloadcode=u.match(/提取码:\s(.*)/)[1]}else this.libdownload=0,this.libdownloadcnt=u}if("media"===this.blockLayout){var d=t.getSystemInfoSync().screenWidth;if("2"===this.blockData.type&&this.blockData.custom.video.opentiepian&&this.beebeeos.acf.mode_ads.ads_other.video_tiepian.open&&this.beebeeos.acf.mode_ads.ads_other.video_tiepian.data){var p=this.beebeeos.acf.mode_ads.ads_other.video_tiepian.data;t.preloadvideoAdb([p])}if("2"===this.blockData.type&&(this.videoHeight=(d-2*Number(this.blockData.custom.margin))*Number(this.blockData.custom.video.height)/300,console.log("计算高度",this.videoHeight)),"1"===this.blockData.type&&"1"===this.blockData.player){var k=[{src:"1"===this.blockData.meida?this.blockData.upload:this.blockData.url,title:this.blockData.custom.audio.name,singer:this.blockData.custom.audio.author,coverImgUrl:this.blockData.custom.audio.poster}];this.blockData.custom.audio.autoplay?setTimeout((function(){o.$zaudio.setAudio(k),o.$zaudio.operate(0)}),2e3):(this.$zaudio.setAudio(k),this.$zaudio.setRender(0))}}"pan"===this.blockLayout&&this.blockData.custom.videoads&&this.beebeeos.acf.mode_ads.ads_other.single_jili.open&&this.beebeeos.acf.mode_ads.ads_other.single_jili.data&&t.createRewardedVideoAd&&(m=t.createRewardedVideoAd({adUnitId:this.beebeeos.acf.mode_ads.ads_other.single_jili.data}),m.onLoad((function(){})),m.onError((function(t){o.videolook=!0})),m.onClose((function(e){e&&e.isEnded?o.videolook=!0:t.showToast({title:"你中途关闭了视频",icon:"none",duration:3e3})})))},watch:{catsdata:{handler:function(t){var o=this;this.$nextTick((function(){o.$emit("getNavboxTop")}))}}},mounted:function(){},methods:{play:function(t){this.$zaudio.operate(t)},swipercurrentHandle:function(t){var o=t.detail,e=o.current,a=o.source;"autoplay"!==a&&"touch"!==a||(this.swiperdotcurrent=e)},swiperChange:function(t){var o=t.detail,e=o.current,a=o.source;"autoplay"!==a&&"touch"!==a||(this.swipercurrent=e)},swiperdot:function(t){this.swipercurrent=t,this.swiperdotcurrent=t},loadblockCats:function(){var t=this,o={orderby:"id",order:"asc",per_page:100};"category"===this.blockData.sys?o.cats_type="categories":"tag"===this.blockData.sys?o.cats_type="tags":o.cats_type=this.blockData.sys,i.default.readCategories({params:o}).then((function(o){t.catsdata=n(o),t.catsdata.map((function(t){"category"===t.taxonomy?(t.post_type="posts",t.catsid=t.id):"beebee_face_cats"==t.taxonomy?(t.post_type="beebee_face",t.catsid=t.id):(t.post_type="posts",t.catsid=t.id)}))}))},loadThreads:function(){var t=this,o={post_type:"1"===this.blockData.type&&"post"===this.blockData.posttype?"posts":this.blockData.posttype,per_page:this.blockData.count};"2"===this.blockData.type?o.api_type="sticky":"3"===this.blockData.type?o.api_type="rand":"4"===this.blockData.type?(o.api_type="most",o.meta="comments"):"5"===this.blockData.type?(o.api_type="most",o.meta="likes"):"6"===this.blockData.type&&(o.api_type="most",o.meta="views"),"1"===this.blockData.type?i.default.readThreadList({params:o}).then((function(o){t.$nextTick((function(){t.postsdata=n(o)}))})):i.default.readPostList({params:o}).then((function(o){t.$nextTick((function(){t.postsdata=n(o)}))}))},watchVideo:function(){var o=this;m&&m.show().catch((function(){m.load().then((function(){return m.show()})).catch((function(e){console.log("激励视频 广告显示失败"),t.showToast({title:"运气爆表\r\n不用欣赏广告",icon:"none",duration:3e3}),o.videolook=!0}))}))},notice:function(){this.showLine=this.showNum<this.blockData.content.length?this.showNum:this.blockData.content.length;for(var t=0;t<this.blockData.content.length;t++)this.shownoticedata.push(this.blockData.content[t]);for(var o=0;o<this.showLine;o++)this.shownoticedata.push(this.blockData.content[o]);this.blockData.content.length>1&&setInterval(this.animationFunc,this.animation)},animationFunc:function(){this.noticemarginTop>=this.blockData.content.length*this.lineHeight&&(this.noticemarginTop=0);var t=this.animationScroll/this.lineHeight,o=0,e=this,a=setInterval((function(){e.noticemarginTop=e.noticemarginTop+1,o++,o>=e.lineHeight&&clearInterval(a)}),t)}}};o.default=p}).call(this,e("543d")["default"])},"9f3f":function(t,o,e){"use strict";e.r(o);var a=e("32ce"),i=e("45af");for(var s in i)"default"!==s&&function(t){e.d(o,t,(function(){return i[t]}))}(s);e("4b2c");var n,c=e("f0c5"),l=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"d4d50474",null,!1,a["a"],n);o["default"]=l.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/bee-block/bee-block-create-component',
    {
        'components/bee-block/bee-block-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("9f3f"))
        })
    },
    [['components/bee-block/bee-block-create-component']]
]);
